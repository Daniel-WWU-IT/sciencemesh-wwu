# MENTIX -- Mesh Entity Exporter -- Main configuration file
# -------------------------------------------------------------------------------------------------------
#
# Mentix will not run out-of-the-box; a few settings have to be modified in
# order to make it work. This includes proper configuration of the used
# connector (currently, only GOCDB is supported) and exporters.
#
# Each setting is commented thoroughly to guide you through the pretty easy
# configuration of Mentix.
#
# Feel free to send me any questions or problems:
#   daniel.mueller@uni-muenster.de

general:
  logging:
    # Enables (true) or disables (false) logging to disk.
    enabled: true
    # The directory where the log files should be placed; can be relative to the main Mentix directory.
    directory: "./logs"
    # The level of logging; only messages with at least the specified level of severity will be shown.
    # Supported values are:
    # - 0: Debug (shows all messages)
    # - 1: Info (recommended)
    # - 2: Warnings
    # - 3: Errors
    level: 1
  network:
    # If allow-insecure is set to true, connecting to an insecure server is allowed (i.e., a server
    # with an invalid TLS certificate, like self-signed ones). This should only be set to true
    # for testing purposes!
    allow-insecure: false

engine:
  # The connector used to gather mesh topology data from; only one connector can be active.
  # Supported values are:
  # - gocdb: Uses a GOCDB instance to gather data from
  connector: gocdb
  # The exporters that expose the gathered data. Multiple can be active at the same time.
  # Supported values are:
  # - webapi: Web-based API endpoint for getting the mesh data from Mentix
  # - prom-filesd: Prometheus File Service Discovery; exports the data in a format that can be imported
  #                by Prometheus
  exporters:
  - webapi
  - prom-filesd
  # The time interval Mentix will pull the mesh topology data using the specified connector. Supports
  # common time duration strings, like "1h30m", "1d" etc.
  update-interval: 1h

connectors:
  # GOCDB-specific settings
  gocdb:
    # The address of the GOCDB instance; must be a valid URL (e.g., http://gocdb.uni-muenster.de).
    # Note: The public API must be reachable under <address>/gocdbpi/public
    address: ""
    # Scopes are used in GOCDB to limit results to a specific context. If no scope is specified, a
    # default one will be used.
    scope: ""

exporters:
  # WebAPI-specific settings
  webapi:
    # The port under which the Mentix web-based API endpoint can be reached.
    port: 9600
  # Prometheus File SD-specific settings
  prom-filesd:
    # The full path of the file that will be exported by Mentix for Prometheus file-based service discovery.
    output-file: ""
